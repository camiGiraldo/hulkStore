<div [@routerTransition]>
    <app-page-header [heading]="'Ventas'" [icon]="'fa-building'"></app-page-header>
    <div class="cont-actions">
        <div class="fac-selec">Producto seleccionado: <strong>{{ message }}</strong></div>

        <div *ngIf="idEdit" class="flt-button-action" title="Editar" (click)="open(content,'edit')">
            <i class="fa fa-edit"></i>
        </div>
        <div *ngIf="!idEdit" class="flt-button-action" title="Editar" (click)="open(content,'edit')">
            <i class="fa fa-edit"></i>
        </div>
        <div class="flt-button-action" title="Crear Venta" (click)="open(content,'new')">
            <i class="fa fa-plus"></i>
        </div>
    </div>

    <table datatable [dtOptions]="dtOptions" id="tbl-ventas" [dtTrigger]="dtTrigger" class="table table-striped table-bordered" cellspacing="0" width="100%"></table>

</div>

<!--FORMULARIO MODAL PARA CREAR Y EDITAR PRODUCTOS-->
<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">Venta</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <select name="productoSeleccionado" id="productoSeleccionado" [(ngModel)]="productoSeleccionado" class="form-control">
                    <option value="" [selected]="">--Seleccionar--</option>
                    <option [value]="pro" *ngFor="let pro of listProducts">{{pro.name}}</option>
                </select>
                <div class="form-group">
                    <label for="exampleInputEmail1">Cantidad:</label>
                    <input type="text" class="form-control" id="txtCantidad" [(ngModel)]="cantidad" name="cantidad" placeholder="100000" required>
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Total Venta:</label>
                    <input type="number" class="form-control" id="txtTotalVenta" [(ngModel)]="totalVenta" name="totalVenta" placeholder="100000" required>
                </div>
            </div>

            <!--<div class="form-group">
                <label for="exampleInputEmail1">Nombre Producto:</label>
                <input type="text" class="form-control" id="txtProducto" [(ngModel)]="namePro" name="namePro" placeholder="Historieta ...">
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">Cantidad::</label>
                <input type="text" class="form-control" id="txtCantidad" [(ngModel)]="cantidad" name="cantidad" placeholder="100000" required>
            </div>
            <div class="form-group">
                <input type="hidden" id="txtIdFacultad" [(ngModel)]="idEdit" name="idEdit">
            </div>-->
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="c('Close click')">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="saveForm()">Guardar</button>

    </div>
</ng-template>


<!--MODAL DE NOTIFICACIONES-->
<ng-template #mdlNotification let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">{{titleNotification}}</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">

            <div class="col-2 icon-message">
                <i [className]='iconNotification' [style.color]="colorAlert"></i>
            </div>
            <div class="col-10">
                {{messageNotification}}
            </div>

        </div>
    </div>
    <div class="modal-footer">

        <button type="button" class="btn btn-primary" (click)="c('Close click')">Aceptar</button>
    </div>
</ng-template>